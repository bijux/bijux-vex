# v0.2 Architecture Narrative

This document captures the current architecture intent for Bijux Vex v0.2 so future work stays consistent.

## Deterministic Path

- Input vectors or documents are ingested into a vector store.
- Exact execution uses deterministic algorithms and refuses any approximation.
- Provenance records the execution plan, determinism fingerprint, and results.

## ND (Non-Deterministic) Path

- ND uses an explicit execution model that plans, executes, verifies, and postprocesses.
- Runner selection and parameter resolution are explicit and recorded.
- Quality metrics are mandatory; if they cannot be measured, a reason is recorded.
- Reproducibility bounds are included with every ND result.

## Storage Path

- Vector stores are pluggable and explicitly chosen by the caller.
- Vector store metadata is normalized and persisted alongside provenance.
- Backend capabilities are surfaced through capabilities and audit commands.

## Provenance Model

- Every execution emits a provenance artifact (execution result + metadata).
- ND provenance includes decision trace, quality metrics, and refusal metadata.
- Replay uses explicit contracts and refuses when mismatched.

## Trust Boundaries

- Deterministic execution is stable by contract.
- ND execution is bounded and labeled with quality and reproducibility signals.
- Storage backends must declare capabilities; unsupported operations are refused.
